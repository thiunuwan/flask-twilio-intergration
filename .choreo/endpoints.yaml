# +required Version of the endpoint configuration YAML
version: 0.1

# +required List of endpoints to create
endpoints:
  # +required Unique name for the endpoint. (This name will be used when generating the managed API)
  - name: Twilio Messaging Service
    # +required Numeric port value that gets exposed via this endpoint
    port: 5000
    # +required Type of the traffic this endpoint is accepting. Example: REST, GraphQL, etc.
    # Allowed values: REST, GraphQL, GRPC, UDP, TCP
    type: REST
    # +optional Network level visibility of this endpoint. Defaults to Public
    # Accepted values: Project|Organization|Public.
    networkVisibility:  Public
    # +optional Context (base path) of the API that is exposed via this endpoint.
    # This is mandatory if the endpoint type is set to REST or GraphQL.
    context: /api
    # +optional Path to the schema definition file. Defaults to wild card route if not provided
  
    # +required List of methods supported by this endpoint
    methods:
      - path: /message
        method: POST
        description: Handles incoming messages from Twilio.
        requestSchema:
          type: object
          properties:
            Body:
              type: string
              example: 'Hello'
        responseSchema:
          type: object
          properties:
            response:
              type: string
              example: 'Thank you for your message! A member of our team will be in touch with you soon.'
      
      - path: /hello
        method: GET
        description: Returns a greeting message.
        requestSchema:
          type: object
          properties: {}
        responseSchema:
          type: object
          properties:
            message:
              type: string
              example: 'Hello! Welcome to our service!'
